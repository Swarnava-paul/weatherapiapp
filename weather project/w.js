async function topcitiesdisplay(){let e=document.getElementById("topcitiesdiv"),t=["Mumbai","Kolkata","Surat","Pune"];for(let n=0;n<t.length;n++){let i="";try{let d=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t[n]}&appid=cea89fe72b070ced9848cc671e1c7dac&units=metric`),m=await d.json(),s=document.createElement("div");i+=`${m.name} : ${m.main.feels_like}`,s.innerHTML=i,e.append(s)}catch(e){console.log(e)}}document.getElementById("topcitiesdiv").setAttribute("class","topcitiesdiv")}async function searchweatherinfo(){let e=document.getElementById("searchname").value;if(""!==e){document.getElementById("topcitiesdiv").style.display="none",document.getElementById("buffermain").style.display="grid";try{let t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=cea89fe72b070ced9848cc671e1c7dac&units=metric`),n=await t.json();404!=n.cod?(document.getElementById("currentw").style.display="grid",document.getElementById("city").innerText=n.name,document.getElementById("temp").innerText=`${n.main.feels_like} c`,displayresult(n)):(document.getElementById("buffermain").style.display="none",alert("City not Found"))}catch(e){console.log(e),document.getElementById("buffermain").style.display="none"}}}function displayresult(e){document.getElementById("buffermain").style.display="none",document.getElementById("detailsection").style.display="grid",document.getElementById("description").innerText=`Description:${e.weather[0].description}`,document.getElementById("temparature").innerText=`Temp :${e.main.temp}`,document.getElementById("feelslike").innerText=`Feels :${e.main.feels_like}`,document.getElementById("tempmin").innerText=`Temp Min :${e.main.temp_min}`,document.getElementById("tempmax").innerText=`Temp Max :${e.main.temp_max}`,document.getElementById("pressure").innerText=`Pressure :${e.main.pressure}`,document.getElementById("humidity").innerText=`Humidity :${e.main.humidity}`,document.getElementById("sealevel").innerText=`Sea-lvl :${e.main.sea_level}`,document.getElementById("groundlevel").innerText=`Ground-lvl :${e.main.grnd_level}`,document.getElementById("visibility").innerText=`Visibility :${e.visibility/1e3}km`,document.getElementById("windspeed").innerText=`Wind speed :${e.wind.speed}km/hr`,document.getElementById("winddegree").innerText=`Wind Degree :${e.wind.deg}`;let t=new Convertsunriseandsunsettoutc(e.sys.sunrise,e.sys.sunset);document.getElementById("sunrise").innerText=`Sunrise :${t.sunrise}`,document.getElementById("sunset").innerText=`Sunset :${t.settime}`}function Convertsunriseandsunsettoutc(e,t){var n=new Date(1e3*e),i=new Date(1e3*t),d=n.toLocaleTimeString(),m=i.toLocaleTimeString();this.sunrise=d,this.settime=m}document.getElementById("searchbutton").addEventListener("click",searchweatherinfo),window.addEventListener("load",topcitiesdisplay);